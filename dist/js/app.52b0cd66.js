!function(e){function t(t){for(var i,a,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&m.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(p&&p(t);m.length;)m.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(i=!1)}i&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var i={},o={app:0},n=[];function a(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=i,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(s,i,function(t){return e[t]}.bind(null,i));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var p=c;n.push([0,"chunk-vendors"]),s()}({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var i=s("64a9");s.n(i).a},"0526":function(e,t,s){},"1bc0":function(e,t,s){"use strict";var i=s("4407");s.n(i).a},2368:function(e,t,s){},4252:function(e,t,s){},4407:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t),s.d(t,"Chat",(function(){return $})),s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),o=s("75fc"),n=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),a=(s("c5f6"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header-container",style:{background:e.colors.header.bg}},[e._t("header",null,{colors:e.colors,chatTitle:e.chatTitle,participants:e.participants,myself:e.myself}),e.hasHeaderSlot?e._e():s("div",{staticClass:"header-title"},[s("p",{staticClass:"header-title-text",style:{color:e.colors.header.text}},[e._v(e._s(e.chatTitle))]),s("p",{staticClass:"header-paticipants-text"},[s("span",[e._v(e._s(e.myself.name)+", ")]),e._l(e.participants,(function(t,i){return s("span",{key:t.id},[e._v(e._s(t.name)+e._s(e.participants.length-i-1?", ":""))])}))],2)]),e.hideCloseButton||e.hasHeaderSlot?e._e():s("div",{staticClass:"header-exit"},[e._t("close-button",[s("a",{staticClass:"header-exit-button",style:{fontSize:e.closeButtonIconSize},attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.onClose(t)}}},[e._v("âœ•")])])],2)],2)}),r={props:{colors:{type:Object,required:!0},borderStyle:{type:Object,required:!1,default:function(){return{topLeft:"10px",topRight:"10px",bottomLeft:"10px",bottomRight:"10px"}}},hideCloseButton:{type:Boolean,required:!1,default:!1},closeButtonIconSize:{type:String,required:!1,default:"15px"}},computed:{participants:function(){return this.$store.state.participants},myself:function(){return this.$store.state.myself},chatTitle:function(){return this.$store.state.chatTitle},hasHeaderSlot:function(){return!!this.$slots.header}},methods:{onClose:function(){this.$emit("onClose")}}},c=(s("a901"),s("2877")),l=Object(c.a)(r,a,[],!1,null,null,null).exports,p=s("2f62"),u=s("406a"),m=s("0997"),d=s("fc06"),f=s.n(d),g={props:{linkOptions:{type:Object,required:!0}},mounted:function(){f()(this.$refs["message-content"],this.linkOptions,document)}};function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}var h={components:{CheckIcon:u.a,CheckAll:m.a},mixins:[g],props:{message:{type:Object,required:!0},asyncMode:{type:Boolean,required:!1,default:!1},colors:{type:Object,required:!0},profilePictureConfig:{type:Object,required:!0},timestampConfig:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(p.b)(["getParticipantById","messages","myself"])),methods:{onImageClicked:function(e){this.$emit("onImageClicked",e)}}},b=(s("98b3"),Object(c.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"myself-message-body"},[s("div",{staticClass:"message-content"},["image"==e.message.type?[s("p",{staticClass:"message-username-image"},[e._v(e._s(e.myself.name))]),e.message.uploaded?s("div",{staticClass:"message-image"},[s("img",{staticClass:"message-image-display",attrs:{src:e.message.src,alt:""},on:{click:function(t){return e.onImageClicked(e.message)}}})]):s("div",{staticClass:"message-image"},[s("img",{staticClass:"message-image-display img-overlay",attrs:{src:e.message.preview,alt:""}}),s("div",{staticClass:"img-loading"})])]:[s("div",{staticClass:"message-text",style:{background:e.colors.message.myself.bg,color:e.colors.message.myself.text}},[s("p",{staticClass:"message-username"},[e._v(e._s(e.myself.name))]),s("p",{ref:"message-content"},[e._v(e._s(e.message.content))])])],s("div",{staticClass:"message-timestamp",style:{"justify-content":"flex-end"}},[e.timestampConfig.relative?[e._v(" "+e._s(e.message.timestamp.toRelative())+" ")]:[e._v(" "+e._s(e.message.timestamp.toFormat(e.timestampConfig.format))+" ")],e.asyncMode&&e.message.uploaded&&!e.message.viewed?s("CheckIcon",{staticClass:"icon-sent",attrs:{size:14}}):e.asyncMode&&e.message.uploaded&&e.message.viewed?s("CheckAll",{staticClass:"icon-sent viewed",attrs:{size:14}}):e.asyncMode?s("div",{staticClass:"message-loading"}):e._e()],2)],2),e.profilePictureConfig.myself?s("div",{staticClass:"thum-container"},[s("img",{staticClass:"participant-thumb",style:{width:e.profilePictureConfig.styles.width,height:e.profilePictureConfig.styles.height,"border-radius":e.profilePictureConfig.styles.borderRadius},attrs:{src:e.myself.profilePicture}})]):e._e()])}),[],!1,null,null,null)).exports;function O(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}var v={components:{CheckIcon:u.a,CheckAll:m.a},mixins:[g],props:{message:{type:Object,required:!0},asyncMode:{type:Boolean,required:!1,default:!1},colors:{type:Object,required:!0},profilePictureConfig:{type:Object,required:!0},timestampConfig:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?O(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(p.b)(["getParticipantById","messages","myself"])),methods:{onImageClicked:function(e){this.$emit("onImageClicked",e)}}};function I(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function C(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?I(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var j={components:{MyMessage:b,OtherMessage:(s("e8cb"),Object(c.a)(v,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"other-message-body"},[e.profilePictureConfig.others?s("div",{staticClass:"thum-container"},[s("img",{staticClass:"participant-thumb",style:{width:e.profilePictureConfig.styles.width,height:e.profilePictureConfig.styles.height,"border-radius":e.profilePictureConfig.styles.borderRadius},attrs:{src:e.getParticipantById(e.message.participantId).profilePicture}})]):e._e(),s("div",{staticClass:"message-content"},["image"==e.message.type?[s("p",{staticClass:"message-username-image"},[e._v(e._s(e.getParticipantById(e.message.participantId).name))]),e.message.uploaded?s("div",{staticClass:"message-image"},[s("img",{staticClass:"message-image-display",attrs:{src:e.message.src,alt:""},on:{click:function(t){return e.onImageClicked(e.message)}}})]):s("div",{staticClass:"message-image"},[s("img",{staticClass:"message-image-display img-overlay",attrs:{src:e.message.preview,alt:""}}),s("div",{staticClass:"img-loading"})])]:[s("div",{staticClass:"message-text",style:{background:e.colors.message.others.bg,color:e.colors.message.others.text}},[s("p",{staticClass:"message-username"},[e._v(e._s(e.getParticipantById(e.message.participantId).name))]),s("p",{ref:"message-content"},[e._v(e._s(e.message.content))])])],s("div",{staticClass:"message-timestamp",style:{"justify-content":"baseline"}},[e.timestampConfig.relative?[e._v(" "+e._s(e.message.timestamp.toRelative())+" ")]:[e._v(" "+e._s(e.message.timestamp.toFormat(e.timestampConfig.format))+" ")],e.asyncMode&&e.message.uploaded&&!e.message.viewed?s("CheckIcon",{staticClass:"icon-sent",attrs:{size:14}}):e.asyncMode&&e.message.uploaded&&e.message.viewed?s("CheckAll",{staticClass:"icon-sent viewed",attrs:{size:14}}):e.asyncMode?s("div",{staticClass:"message-loading"}):e._e()],2)],2)])}),[],!1,null,null,null)).exports},props:{colors:{type:Object,required:!0},asyncMode:{type:Boolean,required:!1,default:!1},loadMoreMessages:{type:Function,required:!1,default:null},scrollBottom:{type:Object,required:!0},profilePictureConfig:{type:Object,required:!0},timestampConfig:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},data:function(){return{updateScroll:!0,lastMessage:null,loading:!1}},computed:C({},Object(p.b)(["getParticipantById","messages","myself"])),mounted:function(){this.goToBottom(),this.$refs.containerMessageDisplay.dispatchEvent(new CustomEvent("scroll"))},updated:function(){this.messages.length&&!this.messageCompare(this.messages[this.messages.length-1],this.lastMessage)&&(this.updateScroll||this.scrollBottom.messageSent&&this.messages[this.messages.length-1].participantId==this.myself.id||this.scrollBottom.messageReceived&&this.messages[this.messages.length-1].participantId!=this.myself.id)&&(this.goToBottom(),this.messages.length&&(this.lastMessage=this.messages[this.messages.length-1]))},methods:C(C({},Object(p.c)(["setMessages"])),{},{messageCompare:function(e,t){if(!t||!e)return e===t;var s=e.participantId==t.participantId,i=e.content==t.content,o=e.timestamp.valueOf()===t.timestamp.valueOf();return s&&i&&o},updateScrollState:function(e){var t=this,s=e.target,i=s.scrollTop,o=s.clientHeight,n=s.scrollHeight;this.updateScroll=i+o>=n,"function"==typeof this.loadMoreMessages&&i<20&&(this.loading=!0,this.loadMoreMessages((function(e){t.loading=!1})))},goToBottom:function(){var e=this.$refs.containerMessageDisplay;e.scrollTop=e.scrollHeight,this.updateScroll=!1},onImageClicked:function(e){this.$emit("onImageClicked",e)}})},S=(s("81ce"),Object(c.a)(j,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"containerMessageDisplay",staticClass:"container-message-display",style:{background:e.colors.message.messagesDisplay.bg},on:{scroll:e.updateScrollState}},[e.loading?s("div",{staticClass:"loader"},[s("div",{staticClass:"message-loading"})]):e._e(),e._l(e.messages,(function(t,i){return s("div",{key:i,staticClass:"message-container"},[t.myself?s("MyMessage",{attrs:{message:t,"async-mode":e.asyncMode,colors:e.colors,"link-options":e.linkOptions.myself,"profile-picture-config":e.profilePictureConfig,"timestamp-config":e.timestampConfig},on:{onImageClicked:e.onImageClicked}}):s("OtherMessage",{attrs:{message:t,"async-mode":e.asyncMode,colors:e.colors,"link-options":e.linkOptions.others,"profile-picture-config":e.profilePictureConfig,"timestamp-config":e.timestampConfig},on:{onImageClicked:e.onImageClicked}})],1)}))],2)}),[],!1,null,null,null)).exports,w=(s("96cf"),s("3b8d")),M=(s("4917"),s("1315")),P=s("c2d8"),k=s("ad93");function A(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function x(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?A(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var _={components:{SendIcon:P.a,ImageIcon:k.a},props:{colors:{type:Object,required:!0},borderStyle:{type:Object,required:!1,default:function(){return{topLeft:"10px",topRight:"10px",bottomLeft:"10px",bottomRight:"10px"}}},submitIconSize:{type:Number,required:!1,default:24},submitImageIconSize:{type:Number,required:!1,default:24},sendImages:{type:Boolean,required:!1,default:!0},acceptImageTypes:{type:String,required:!0}},data:function(){return{textInput:""}},computed:{myself:function(){return this.$store.state.myself},placeholder:function(){return this.$store.state.placeholder}},methods:x(x({},Object(p.c)(["newMessage"])),{},{sendMessage:function(e){this.textInput=this.$refs.userInput.textContent,this.$refs.userInput.textContent="";var t=this.textInput.match(/^\s*((.|\n)+?)\s*$/i);if(this.textInput&&/[^\s]+/i.test(this.textInput)&&t){var s={content:t[1],participantId:this.myself.id,timestamp:M.DateTime.local(),uploaded:!1,viewed:!1,type:"text"};this.$emit("onMessageSubmit",s),this.newMessage(s)}},handleType:function(e){this.$emit("onType",e)},pickImage:function(){this.$refs.inputImage.click()},handleImageChange:function(){var e=Object(w.a)(regeneratorRuntime.mark((function e(t){var s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.target.files,i={type:"image",preview:URL.createObjectURL(s[0]),src:"",content:"image",participantId:this.myself.id,timestamp:M.DateTime.local(),uploaded:!1,viewed:!1},this.$emit("onImageSelected",{file:s[0],message:i}),this.newMessage(i);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()})},T=(s("9104"),Object(c.a)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container-message-manager"},[s("div",{staticClass:"message-text-box"},[s("div",{ref:"userInput",staticClass:"message-input",attrs:{placeholder:e.placeholder,tabIndex:"0",contenteditable:"true"},on:{input:e.handleType,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.sendMessage(t)}}})]),s("div",{staticClass:"container-send-message icon-send-message",on:{click:function(t){return t.preventDefault(),e.sendMessage(t)}}},[s("SendIcon",{attrs:{size:e.submitIconSize,"fill-color":e.colors.submitIcon}})],1),e.sendImages?s("div",{staticClass:"container-send-message icon-send-message",on:{click:e.pickImage}},[s("input",{ref:"inputImage",staticStyle:{display:"none"},attrs:{accept:e.acceptImageTypes,type:"file"},on:{input:e.handleImageChange}}),s("ImageIcon",{attrs:{size:e.submitImageIconSize,"fill-color":e.colors.submitImageIcon}})],1):e._e()])}),[],!1,null,null,null)).exports,z=s("7618");function q(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}i.a.use(p.a);var D=function(){return new p.a.Store({state:{messages:[],myself:{},participants:[],chatTitle:"",placeholder:""},mutations:{newMessage:function(e,t){t.timestamp=t.timestamp.toISO(),t.myself=t.participantId===e.myself.id,e.messages=[].concat(Object(o.a)(e.messages),[t])},setParticipants:function(e,t){e.participants=t},setMyself:function(e,t){e.myself=t},setMessages:function(e,t){t.map((function(t){"object"==Object(z.a)(t.timestamp)&&(t.timestamp=M.DateTime.fromObject(t.timestamp).toISO()),"myself"in t||(t.myself=t.participantId===e.myself.id)})),e.messages=t},setChatTitle:function(e,t){e.chatTitle=t},setPlaceholder:function(e,t){e.placeholder=t}},actions:{},getters:{getParticipantById:function(e){return function(t){var s;return e.participants.forEach((function(e){e.id===t&&(s=e)})),s}},messages:function(e){var t=[];return e.messages.forEach((function(e){var s=function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?q(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):q(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e);s.timestamp=M.DateTime.fromISO(s.timestamp),t.push(s)})),t},myself:function(e){return e.myself}}})};function B(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function E(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?B(Object(s),!0).forEach((function(t){Object(n.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):B(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var R={name:"chat",components:{Header:l,MessageDisplay:S,MessageManager:T},props:{participants:{type:Array,required:!0},messages:{type:Array,required:!0},myself:{type:Object,required:!0},chatTitle:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:"type your message here"},colors:{type:Object,required:!0},borderStyle:{type:Object,required:!1,default:function(){return{topLeft:"10px",topRight:"10px",bottomLeft:"10px",bottomRight:"10px"}}},hideCloseButton:{type:Boolean,required:!1,default:!1},submitIconSize:{type:Number,required:!1,default:24},submitImageIconSize:{type:Number,required:!1,default:24},closeButtonIconSize:{type:String,required:!1,default:"15px"},asyncMode:{type:Boolean,required:!1,default:!1},loadMoreMessages:{type:Function,required:!1,default:null},scrollBottom:{type:Object,required:!1,default:function(){return{messageSent:!0,messageReceived:!1}}},displayHeader:{type:Boolean,required:!1,default:!0},sendImages:{type:Boolean,required:!1,default:!0},profilePictureConfig:{type:Object,required:!1,default:function(){return{others:!0,myself:!1,styles:{width:"25px",height:"25px",borderRadius:"50%"}}}},timestampConfig:{type:Object,required:!1,default:function(){return{format:"HH:mm",relative:!1}}},linkOptions:{type:Object,required:!1,default:function(){return{myself:{},others:{}}}},acceptImageTypes:{type:String,required:!1,default:"image/*"}},watch:{participants:function(){this.setParticipants(this.participants)},myself:function(){this.setMyself(this.myself)},messages:function(){this.setMessages(this.messages)},placeholder:function(){this.setPlaceholder(this.placeholder)},chatTitle:function(){this.setChatTitle(this.chatTitle)}},beforeCreate:function(){this.$store=D()},created:function(){this.setParticipants(this.participants),this.setMyself(this.myself),this.setMessages(this.messages),this.setPlaceholder(this.placeholder),this.setChatTitle(this.chatTitle)},methods:E(E({},Object(p.c)(["setParticipants","setMyself","setMessages","setPlaceholder","setChatTitle"])),{},{onClose:function(){this.$emit("onClose")},onType:function(e){this.$emit("onType",e)},onMessageSubmit:function(e){this.$emit("onMessageSubmit",e)},onImageSelected:function(e){this.$emit("onImageSelected",e)},onImageClicked:function(e){this.$emit("onImageClicked",e)}})},$=(s("1bc0"),Object(c.a)(R,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"quick-chat-container",style:{"border-bottom-left-radius":e.borderStyle.bottomLeft,"border-bottom-right-radius":e.borderStyle.bottomRight,"border-top-right-radius":e.borderStyle.topRight,"border-top-left-radius":e.borderStyle.topLeft}},[e.displayHeader?s("Header",{attrs:{colors:e.colors,"border-style":e.borderStyle,"hide-close-button":e.hideCloseButton,"close-button-icon-size":e.closeButtonIconSize},on:{onClose:function(t){return e.onClose()}},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0}],null,!0)}):e._e(),s("MessageDisplay",{attrs:{colors:e.colors,"async-mode":e.asyncMode,"load-more-messages":e.loadMoreMessages,"link-options":e.linkOptions,"scroll-bottom":e.scrollBottom,"profile-picture-config":e.profilePictureConfig,"timestamp-config":e.timestampConfig},on:{onImageClicked:e.onImageClicked}}),s("MessageManager",{attrs:{colors:e.colors,"border-style":e.borderStyle,"submit-icon-size":e.submitIconSize,"submit-image-icon-size":e.submitImageIconSize,"send-images":e.sendImages,"accept-image-types":e.acceptImageTypes},on:{onImageSelected:e.onImageSelected,onMessageSubmit:e.onMessageSubmit,onType:e.onType}})],1)}),[],!1,null,null,null)).exports,N={name:"app",components:{Chat:$},data:function(){return{isAuth:!1,connection:null,visible:!0,chatTitle:"Room 101",placeholder:"send your message",hideCloseButton:!1,submitIconSize:24,submitImageIconSize:24,closeButtonIconSize:"20px",asyncMode:!0,borderStyle:{topLeft:"0px",topRight:"0px",bottomLeft:"0px",bottomRight:"0px"},scrollBottom:{messageSent:!0,messageReceived:!0},profilePictureConfig:{others:!0,myself:!0,styles:{width:"30px",height:"30px",borderRadius:"50%"}},timestampConfig:{format:"HH:mm",relative:!1},colors:{header:{bg:"#000000",text:"#fff"},message:{myself:{bg:"#fff",text:"#525252"},others:{bg:"#000000",text:"#fff"},messagesDisplay:{bg:"#f7f3f3"}},submitIcon:"#000000",submitImageIcon:"#000000"},participants:[{name:"Arnaldo",id:1,profilePicture:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a1/NafSadh_Profile.jpg/768px-NafSadh_Profile.jpg"},{name:"Adam",id:2,profilePicture:"https://lh3.googleusercontent.com/-G1d4-a7d_TY/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPez_wX5UCJztzEUeCxOd7HBK7-jA.CMID/s83-c/photo.jpg"}],myself:{name:"John Doe",id:3,profilePicture:"https://lh3.googleusercontent.com/-G1d4-a7d_TY/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPez_wX5UCJztzEUeCxOd7HBK7-jA.CMID/s83-c/photo.jpg"},messages:[{content:"Really?! I don't care! Haha",participantId:1,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"},{content:"Really?! I don't care! Haha",participantId:1,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"},{content:"Really?! I don't care! Haha",participantId:1,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"},{content:"Hey, Jhon Doe! How are you today",participantId:1,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"},{content:"Hey, Adam! I'm felling really fine this evening.",participantId:3,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"},{content:"Really?! I don't care! Haha www.google.com",participantId:1,timestamp:{year:2012,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0,type:"text"}],toLoad:[{content:"Hey, John Doe! How are you today?",participantId:2,timestamp:{year:2016,month:3,day:5,hour:10,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0},{content:"Hey, Adam! I'm feeling really fine this evening.",participantId:3,timestamp:{year:2016,month:1,day:5,hour:19,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0}]}},mounted:function(){var e=this;console.log("Starting connection to WebSocket Server"),this.connection=new WebSocket("ws://35.186.150.95:8080"),this.connection.onmessage=function(t){var s=JSON.parse(t.data);switch(console.log(s),s.topic){case"CONNECTION":if(0==e.isAuth){var i={topic:"AUTHORIZATION_V2",content:{ssoToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJMb2dnaW5SZXF1ZXN0SUQiOiI0MzljNDhjYS00ZDA5LTRhMjUtOGFlZC0yMzI0YWY3ODkwZmEiLCJVc2VySUQiOjEwMDQsIlVzZXJBZ2VudCI6Ik1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OC4wLjQyODMuMCBTYWZhcmkvNTM3LjM2XzdlYjIyOGMwLTAyMDEtMTFlYi1hYjA0LWMxN2NhOTliYTdkNiIsIkFwcEtleSI6IiIsIkxvZ2luVGltZSI6MTYwMTk2Nzg0MCwiZXhwIjoxNjAyNTcyNjQwfQ.tXdFIfmfhnohaQDEQeKjGg2riu9-RUWcWOvSV4q4Ci4"}};e.connection.send(JSON.stringify(i)),e.isAuth=!0}break;case"MESSAGE":e.addMessage(s.content.message);break;case"AUTHORIZATION_V2":"OK"==s.content.status?console.log("Auth ok"):console.log("Auth fail")}},this.connection.onopen=function(e){console.log(e),console.log("Successfully connected to the websocket server...")}},methods:{onType:function(e){},loadMoreMessages:function(e){var t=this;setTimeout((function(){var s;e(t.toLoad),(s=t.messages).unshift.apply(s,Object(o.a)(t.toLoad)),t.toLoad=[]}),1e3)},onMessageSubmit:function(e){this.messages.push(e);var t={topic:"MESSAGE",content:{chatRoomId:"5f76e896e2d51c70c5a70696",message:"Hello from vuejs: "+e.content,fromUserId:"1004"}};console.log(t),this.connection.send(JSON.stringify(t)),setTimeout((function(){e.uploaded=!0,e.viewed=!0}),2e3)},onClose:function(e){console.log(e),this.visible=!1},addMessage:function(e){this.messages.push({content:e,participantId:1,timestamp:{year:2015,month:3,day:5,hour:20,minute:10,second:3,millisecond:123},uploaded:!0,viewed:!0})}}},H=(s("034f"),Object(c.a)(N,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"content"},[s("div",{staticClass:"chat-container"},[e.visible?s("Chat",{attrs:{participants:e.participants,myself:e.myself,messages:e.messages,"chat-title":e.chatTitle,placeholder:e.placeholder,colors:e.colors,"border-style":e.borderStyle,"hide-close-button":e.hideCloseButton,"close-button-icon-size":e.closeButtonIconSize,"submit-icon-size":e.submitIconSize,"submit-image-icon-size":e.submitImageIconSize,"load-more-messages":e.toLoad.length>0?e.loadMoreMessages:null,"async-mode":e.asyncMode,"scroll-bottom":e.scrollBottom,"display-header":!0,"send-images":!0,"profile-picture-config":e.profilePictureConfig,"timestamp-config":e.timestampConfig,"accept-image-types":".png, .jpeg"},on:{onMessageSubmit:e.onMessageSubmit,onType:e.onType,onClose:function(t){return e.onClose("param value")}}}):e._e()],1)])])}),[],!1,null,null,null)).exports,L=(s("62c3"),s("7fc3"));s("0fa2"),i.a.config.productionTip=!1;L.initializeApp({apiKey:"AIzaSyCUzr5lzJpvWz9BwtlAJVS_Y2f3csMutsY",authDomain:"ghn-2020.firebaseapp.com",databaseURL:"https://ghn-2020.firebaseio.com",projectId:"ghn-2020",storageBucket:"ghn-2020.appspot.com",messagingSenderId:"981734276351",appId:"1:981734276351:web:bb113e56603629b47c20ca"});var J=L.messaging();J.usePublicVapidKey("BCC7WapefcNTu1w4331xmXv3kFNFNm4dWRzK_rDcAiwYdo6Rz4brqCqskMf0tTKO3my45gtnSHA2OkkGl6s0XTo"),J.getToken().then((function(e){e?sendTokenToServer(e):console.log("No Instance ID token available. Request permission to generate one.")})).catch((function(e){console.log("An error occurred while retrieving token. ",e)})),new i.a({render:function(e){return e(H)}}).$mount("#app"),navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){i.a.prototype.$messaging.useServiceWorker(e)})).catch((function(e){console.log(e)}))},"61c2":function(e,t,s){},"64a9":function(e,t,s){},"81ce":function(e,t,s){"use strict";var i=s("4252");s.n(i).a},9104:function(e,t,s){"use strict";var i=s("e1d8");s.n(i).a},"98b3":function(e,t,s){"use strict";var i=s("0526");s.n(i).a},a901:function(e,t,s){"use strict";var i=s("2368");s.n(i).a},e1d8:function(e,t,s){},e8cb:function(e,t,s){"use strict";var i=s("61c2");s.n(i).a}});